import{e as f,C as b,r as n,j as e,y as l}from"./index-CZT2epyM.js";const j=()=>{const u=f(),[i,{isLoading:d}]=b(),[a,p]=n.useState({name:"",description:"",price:"",category:"",features:""}),[o,m]=n.useState(null),[c,g]=n.useState(null),s=r=>{p({...a,[r.target.name]:r.target.value})},x=r=>{const t=r.target.files[0];m(t||null),t&&g(URL.createObjectURL(t))},h=async r=>{r.preventDefault();const t=new FormData;t.append("name",a.name),t.append("description",a.description),t.append("price",a.price),t.append("category",a.category),t.append("features",a.features),o&&t.append("image",o);try{await i(t).unwrap(),l.success("✅ Product added successfully!"),u("/adminDash/adminproducts")}catch(y){console.error(y),l.error("❌ Failed to add product")}};return e.jsx("div",{className:"p-6 min-h-screen bg-gray-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"➕ Add New Product"}),e.jsxs("form",{onSubmit:h,className:"space-y-5",children:[e.jsx("input",{type:"text",name:"name",value:a.name,onChange:s,required:!0,placeholder:"Product name",className:"w-full border rounded-lg px-3 py-2"}),e.jsx("textarea",{name:"description",value:a.description,onChange:s,required:!0,placeholder:"Product description",className:"w-full border rounded-lg px-3 py-2 h-24"}),e.jsx("input",{type:"number",name:"price",value:a.price,onChange:s,required:!0,placeholder:"Price",className:"w-full border rounded-lg px-3 py-2"}),e.jsx("input",{type:"text",name:"category",value:a.category,onChange:s,required:!0,placeholder:"Category (e.g. CCTV, Networking, Smart Devices)",className:"w-full border rounded-lg px-3 py-2"}),e.jsx("input",{type:"text",name:"features",value:a.features,onChange:s,placeholder:"Features (comma separated)",className:"w-full border rounded-lg px-3 py-2"}),e.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"w-full border rounded-lg p-2"}),c&&e.jsx("img",{src:c,alt:"Preview",className:"mt-3 h-40 object-contain border rounded-lg"}),e.jsx("button",{type:"submit",disabled:d,className:"bg-blue-600 text-white px-6 py-2 rounded-lg",children:d?"Adding...":"Add Product"})]})]})})};export{j as default};
