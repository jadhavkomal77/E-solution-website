import{v as j,w as N,r as s,j as e,y as m}from"./index-CLIh4Pj0.js";import{m as c}from"./proxy-L3crHBYl.js";const P=()=>{const{data:a,isLoading:x,isError:u,refetch:p}=j(),[g]=N(),[f,l]=s.useState(!1),[t,o]=s.useState({name:"",email:"",phone:""}),[d,h]=s.useState(null);s.useEffect(()=>{a?.admin&&o({name:a.admin.name||"",email:a.admin.email||"",phone:a.admin.phone||""})},[a]);const r=n=>o({...t,[n.target.name]:n.target.value}),b=async n=>{n.preventDefault();const i=new FormData;i.append("name",t.name),i.append("email",t.email),i.append("phone",t.phone),d&&i.append("file",d);try{await g(i).unwrap(),m.success("Profile updated successfully ðŸŽ‰"),l(!1),p()}catch(y){m.error(y?.data?.message||"Update failed")}};return x?e.jsx("div",{className:"flex justify-center items-center h-screen text-lg text-gray-600",children:"Loading profile..."}):u?e.jsx("div",{className:"flex justify-center items-center h-screen text-red-600 text-lg",children:"Failed to load admin profile."}):e.jsxs("div",{className:"flex justify-center items-start min-h-screen bg-gradient-to-br from-indigo-100 via-purple-100 to-blue-100 pt-10 px-4",children:[e.jsxs(c.div,{initial:{opacity:0,y:35},animate:{opacity:1,y:0},transition:{duration:.4},className:"backdrop-blur-xl bg-white/80 shadow-xl rounded-2xl p-8 w-full max-w-lg border border-white/40",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("img",{src:a?.admin?.profile||"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"Admin Avatar",className:"w-28 h-28 rounded-full shadow-lg border-4 border-indigo-400 mb-4 hover:scale-105 transition"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:a?.admin?.name}),e.jsx("p",{className:"text-gray-500",children:a?.admin?.email}),e.jsx("p",{className:"text-gray-500",children:a?.admin?.phone}),e.jsx("span",{className:"mt-2 px-4 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full",children:"ADMINISTRATOR"})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("button",{onClick:()=>l(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium px-6 py-2 rounded-lg shadow-md transition-transform transform hover:scale-105",children:"âœï¸ Edit Profile"})})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex justify-center items-center z-50",children:e.jsxs(c.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl shadow-2xl p-6 w-96",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Update Profile"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Name"}),e.jsx("input",{name:"name",value:t.name,onChange:r,className:"w-full border border-gray-300 rounded-lg px-3 py-2 mt-1 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:r,className:"w-full border border-gray-300 rounded-lg px-3 py-2 mt-1 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Phone"}),e.jsx("input",{name:"phone",value:t.phone,onChange:r,className:"w-full border border-gray-300 rounded-lg px-3 py-2 mt-1 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Profile Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:n=>h(n.target.files[0]),className:"mt-1 text-sm"})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Update"})]})]})]})})]})};export{P as default};
